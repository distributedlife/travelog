/* ::Layout styles - Layouts hold one or more modules together. */
/* ------------------------------------------------------------ */
.container {
	@extend .clearfix;
	margin: 0 auto;
	width: 95%;
}
.wide-container {
	@extend .clearfix;
	margin: 0 auto;
	width: 95%;
}
section 				{ @extend .clearfix; }
ol 						{ @include ordered-inside }
ul 						{ @include unordered-inside }
h1,h2,h3{
	font-family: $heading-font;
	font-weight: 700;
	color: #000;
}
html{
	background-size: cover !important;
	-webkit-background-size: cover !important;
	-moz-background-size: cover !important;
	-o-background-size: cover !important;
}
body{
	font-family: $body-font;
	margin: 0;
	font-weight: 300;

	b, strong{
		font-weight: 700;
	}
	bi{
		font-weight: 700;
		font-style: italic;
	}
}
.hide {
	display: none;
}
.topic-anchor {
	position: absolute;
	top: 3px;
	left: 5px;
	font-size: 1.5em;
}
.article-body {
	p.image {
		text-align: center;
	}

	span.landscape {
		img {
			height: auto;
		}
	}
	span.portrait {
		img {
			width: auto;
		}
	}
	img {
		background: #FEFEFE;
		border: 2px solid #FAFAFA;
		box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4);
		margin: 1px;
		padding: 15px;
		opacity: 1;
	}
}
.portrait-photo {
	padding-top: 2em;

	img {
		background: #FEFEFE;
		border: 2px solid #FAFAFA;
		box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4);
		margin: 5px;
		padding: 15px;
		opacity: 1;		
		width: auto;
	}
}
.landscape-photo {
	padding-top: 2em;

	img {
		background: #FEFEFE;
		border: 2px solid #FAFAFA;
		box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4);
		margin: 5px;
		padding: 15px;
		opacity: 1;		
		height: auto;
	}
}
.cover {
	border-top: black solid 1px;
	background-color: white;
	width: 100%;
	position: absolute;
	bottom: 0;
	height: 8em;
}
.title {
	float: right;
	width: 20%;
	height: 100%;

	h1 {
		text-align: right;
		padding-right: 1em;
		padding-top: 0;
		margin-top: 0.4em;
		font-size: 4em;
		color: black;
		font-family: $body-font;
		text-transform: uppercase;
	}
}
.toc {	
	margin-left: 1em;
	border-left: black dotted 2px;
	display: inline-block;
	
	column-count: 3;
	-webkit-column-count: 3;
	-moz-column-count: 3;
	column-gap:1em;
	-webkit-column-gap:1em;
	-moz-column-gap:1em;

	width: 75%;
	height: 100%;

	float: left;

	font-size: 0.8em;
	font-variant: small-caps;

	padding-top: 0.6em;

	ul {
		padding-left: 0.4em;

		li {
			padding: 0;
			margin: 0;
		}
		list-style: none;
	}
	a{
		text-decoration: none;
	}
	a:hover {
		text-decoration: underline;
	}
}

.issue-notes{
	border-bottom: 1px lighten($primary, 50%) solid;
}
.issues {
	background: white;

	ul {
		margin: 0;

		li {
			display: inline;

			a{
				text-transform: uppercase;
				text-decoration: none;
				@include animation(color, 200ms, ease);
				color: lighten($secondary, 60%);
				font-weight: 700;

				&:hover{
					color: $highlight;
				}
			}

		}
	}
}

article footer{
	border-top: 1px lighten($primary, 50%) solid;
	margin-top: em-font(10px);
	padding-top: em-font(20px);
	text-align: center;

	img {
		width: em-font(32px);
		margin-right: em-font(12px);
		vertical-align: middle;
	}
}

article .byline {
  font-size: 12px;
  text-transform: uppercase;
  color: #bbb;
}

article img {
    width: 100%;
}

.paginate{
	opacity: 1;
	@include animation(all, 500ms, ease);

	a{
		background-color: rgba(0,0,0,0.15);
		color: #fff;
		font-size: 32px;
		width: 72px;
		line-height: 72px;
		text-align: center;
		text-decoration: none;
		position: fixed;
		top: 50%;
		margin-top: -32px;
		@include border-radius(64px, 64px, 64px, 64px);
		@include animation(all, 500ms, ease);

		&.prev{
			left: 0;
			margin-left: 30px;
			padding-right: 4px;
		}
		&.next{
			right: 0;
			margin-right: 30px;
			padding-left: 4px;
		}
		&:hover{

			background-color: $highlight;

			&.prev{
				left: 10px;
			}
			&.next{
				right: 10px;
			}
		}
	}
}
.pull-right{
	float: right;
}
.pull-left{
	float: left;
}

#title {
  color: #fff;
  font-size: 10em;
  margin:0;
  font-weight: bold;
  line-height: 130px;
  margin-left: 0.01em;
  text-align: center
}

#subtitle {
  color: #fff;
  text-align: center;
  text-transform: uppercase;
  font-size: 2.5em;
  margin: 0;
}

#corp {
  color: #fff;
  font-size: 1.79em;
  margin: 0;
  text-align: center;
}
.logo {
  position: fixed;
  top: 26px;
  left: 10px;
  /*z-index: 1;*/
  padding: 0;
}

.gist {
  font-size: 0.8em;
}

pre.line-pre {
  white-space: normal !important;
}

div.normal-gist {
  pre.line-pre {
    white-space: pre !important;
  }
}

.gist-meta {
  display:none;
}

footer {
  display:none;
}

.snippet {
  font-size: 0.8em;
  margin-left: 2em;
  display: inline-block;
}

.computer {
  font-family: 'courier new'
}

.inline-code {
  font-family: 'courier new';
  background-color: #f8f8f8;
  border: 1px solid #ddd;
  padding: 0px 5px;
  margin: 0 2px;
  border-radius: 3px;
}

/* ::Media queries */
/* ------------------------------------------------------------ */

// If using gridset or another pre-defined grid, these should match up to the same breakpoints

// Below examples use a mobile-first approach


// Eg for 480px
@media screen and (max-width: em-font(767px)) {
  .logo {
    position: static;
    top: 0;
    left: 0;
    text-align: left;
  }
  #title {
    color: #bbb;
    font-size: 2em;
    display: inline-block;
    line-height: 1.0em;
    padding-bottom: 0;
  }
  #subtitle {
    color: #bbb;
    font-size: 2em;
    display: inline-block;
    line-height: 1.0em;
  }
  #corp {
    color: #bbb;
    font-size: 1em;
    line-height: 1.0em;
    text-align:left;
  }
  #start-reading {
    display: none;
  }
}

@media screen and (min-width: em-font(480px)) {
	.container {
		width: 80%;
	}
	.wide-container {
		width: 70%;
	}
}


// Eg for 800px
@media screen and (min-width: em-font(767px)) {
  #bottom-pages {
    display: block;
  }
  
	body {
		margin: 0;
	}
	.container {
		min-width: em-font(586px);
	}
	.wide-container {
		min-width: em-font(586px);
	}
	.table-of-contents{

		article {
			position: relative;
			text-align: left;
		}
		.summary{
			margin-left: em-font(36px);
		}

		margin-left: em-font(190px);

		.author-avatar{
			display: none;
			position: absolute;
			right: 0;
			top: 50%;
			width: 100%;
			margin-top: em-font(-36px);
		}
	}
	.left-column{
		max-width: em-font(190px);
		margin: em-font(54px) 0 0 em-font(-190px);
		position: fixed;
		top: 0;
		text-align: center;

		.author-avatar{
			width: 100%;
			max-width: em-font(148px);
			text-align: center;
			margin-bottom: 1.25em;
			margin-right: 0;
		}
	}
	h1 { 
		@include adjust-font-size-to(38px); 
		margin: rhythm(2, 38px) 0 0 0;  						// 3 lines below, based on font size
	} 
				
	h2 { 
		@include adjust-font-size-to(30px); 
		margin: rhythm(4, 30px) 0 rhythm(2, 30px) 0;  			// 4 lines above / 2 lines below, based on font size 
	}

	h3 { 
		@include adjust-font-size-to(22px); 
		margin: rhythm(2, 22px) 0 rhythm(2, 22px) 0;  			// 2 lines above / 2 lines below, based on font size 
	} 

	h4 { 
		@include adjust-font-size-to(20px); 
		margin: 0 0 rhythm(1, 20px) 0;  						// 1 lines below, based on font size 
	} 

	h5 { 
		@include adjust-font-size-to(18px); 
		margin: 0 0 rhythm(1, 18px) 0;  						// 1 lines below, based on font size 
	} 

	h6 { 
		@include adjust-font-size-to(16px); 
		margin: 0 0 rhythm(1, 16px) 0;  						// 1 lines below, based on font size 
	} 	
	article footer a img{
		opacity: 0.2;
		width: em-font(32px);
		@include filter-greyscale(100%);
		@include animation(all, 500ms, ease);

		&:hover{
			opacity: 1;
			@include filter-greyscale(0%);
		}
	}
}

// Eg for 1024px
@media screen and (min-width: em-font(1024px)) {
	.container {
		width: em-font(768px);
	}
	.paginate{
		opacity: 1;
    a {
      position: fixed;
    }
	}
}
#bottom-pages {
  display: none;
}

@media screen and (max-width: em-font(1024px)) {
  .paginate {
    a { 
      position: absolute;
      top: 40px;
      line-height: 36px;
      width: 36px;
      font-size: 18px;
      &.prev{
        left: 0;
        margin-left: 20px;
        padding-right: 4px;
      }
      &.next{
        right: 0;
        margin-right: 20px;
        padding-left: 4px;
      }
      &:hover{
        background-color: $highlight;

        &.prev{
          left: 0;
        }
        &.next{
          right: 0;
        }
      }
    }
  }
  #bottom-pages {
    margin-top: -110px;
    display: block;
    .paginate {
      text-align: center;
      a {
        position: inherit;
        font-size: 18px;
        line-height: 36px;
        width: 36px;
        &.prev {
          float: left;
        }
        &.next {
          float: right;
        }
      }
    }
  }
}

// Print styles
@media print {
	@page {
		margin: em-font(100px);
	}
	body {
		@include adjust-leading-to(2);
	}
	.left-column{
		max-width: em-font(160px);
		margin-right: em-font(48px);
		position: fixed;
		border-bottom: none;
		margin-bottom: 0;
	}
	.page{
		margin-top: em-font(48px);
		margin-left: em-font(160px);
	}
	article footer {
		display: none;
	}
}


// IOS specifics 
@media screen and (max-width: 769px) {  // Absolute measure here, as we're talking about devices, not screen size
	-webkit-text-size-adjust:none; 		// Stop iPhone/iPad from scaling text
}


/* ::State styles */
/* ------------------------------------------------------------ */

.is-hidden {
	display: none;
}

.is-shown, .is-block {
	display: block;
}

.is-uppercase {
	text-transform: uppercase;
	letter-spacing: 1px;
}

.is-lowercase {
	text-transform: lowercase;
}


/* ::Debugs and #grid by Jon Gibbins */
/* ----------------------------------------------------------- */

#grid {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
}

#grid div.horiz{
	// Use this one NOT using a global border-box setting
	// height: $base-line-height - 1px;
	
	// Use this one if you ARE using a global border-box setting
    height: $base-line-height;
    
    // Carry on...
    border-bottom: 1px solid #ddd;
    margin: 0;
    padding: 0;
}

